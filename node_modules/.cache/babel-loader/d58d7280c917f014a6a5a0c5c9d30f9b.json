{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';var Payment=/*#__PURE__*/function(_React$Component){_inherits(Payment,_React$Component);var _super=_createSuper(Payment);function Payment(){var _this;_classCallCheck(this,Payment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.doPayment=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/payWithStripe',{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({amount:10,currency:\"usd\"})}).then(function(response){return response.json();}).then(function(responseJson){console.log(responseJson);}).catch(function(error){console.error(error);});;case 2:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Payment,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"stripe-payment-btn\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:this.doPayment},\" Click here\"));}}]);return Payment;}(React.Component);export default Payment;","map":{"version":3,"sources":["D:/projects/information/src/Copoments/Pages/Payment.js"],"names":["React","Payment","doPayment","fetch","method","headers","Accept","body","JSON","stringify","amount","currency","then","response","json","responseJson","console","log","catch","error","Component"],"mappings":"22BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GACMC,CAAAA,O,2UAsCNC,S,sEAAY,mIACVC,KAAK,CAAC,qFAAD,CAAwF,CAC3FC,MAAM,CAAE,MADmF,CAE3FC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFkF,CAM3FC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,MAAM,CAAE,EADW,CAEnBC,QAAQ,CAAE,KAFS,CAAf,CANqF,CAAxF,CAAL,CAWGC,IAXH,CAWQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAXR,EAYGF,IAZH,CAYQ,SAACG,YAAD,CAAkB,CACtBC,OAAO,CAACC,GAAR,CAAYF,YAAZ,EACD,CAdH,EAeGG,KAfH,CAeS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAACG,KAAR,CAAcA,KAAd,EACD,CAjBH,EAiBK,CAlBK,sD,4EAoBD,CACP,mBACG,2BAAK,EAAE,CAAC,oBAAR,eACN,8BAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAE,KAAKjB,SAAtC,gBADM,CADH,CAKD,C,qBAhEmBF,KAAK,CAACoB,S,EAkE5B,cAAenB,CAAAA,OAAf","sourcesContent":["import React from 'react';\r\nclass Payment extends React.Component {\r\n//   componentWillMount() {\r\n//     // Publishable Key from Stripe Dashboard\r\n//     const stripe =    window.Stripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\r\n//     const paymentBtn = document.getElementById('stripe-payment-btn');\r\n//     let sessionId;\r\n//     paymentBtn.addEventListener('click', () => {\r\n//       let orderData = {\r\n//       currency: 'EUR',\r\n//       quantity: 1,\r\n//       amount: 10,\r\n//       name: 'Some product',\r\n//       description: 'Product description',\r\n//       image: 'https://image-url/',\r\n//       customerEmail: 'vshrimali709@gmail.com',\r\n//       clientId: '12345'\r\n//     }\r\n//     // Url to Firebase function\r\n//     fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession/', {\r\n//       method: 'POST',\r\n//       // Adding the order data to payload\r\n//       body: JSON.stringify(orderData)\r\n//       }).then(response => {\r\n//         return response.json();\r\n//       }).then(data => {\r\n//         // Getting the session id from firebase function\r\n//         var body = JSON.parse(data.body);\r\n//         return sessionId = body.sessionId;\r\n//       }).then(sessionId => {\r\n//         // Redirecting to payment form page\r\n//         stripe.redirectToCheckout({\r\n//           sessionId: sessionId\r\n//         }).then((result)=> {\r\n//         //   result.error.message\r\n//         });\r\n//       });\r\n//     });\r\n//   }\r\ndoPayment = async () => {\r\n  fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/payWithStripe', {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      amount: 10,\r\n      currency: \"usd\",\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((responseJson) => {\r\n      console.log(responseJson);\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n    });;\r\n}\r\n  render() {\r\n    return(\r\n       <div id=\"stripe-payment-btn\">\r\n <button className=\"btn\" onClick={this.doPayment}> Click here</button>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}