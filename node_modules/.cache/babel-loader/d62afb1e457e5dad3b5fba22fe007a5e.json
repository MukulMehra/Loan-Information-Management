{"ast":null,"code":"import _classCallCheck from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\projects\\\\information\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';var Payment=/*#__PURE__*/function(_React$Component){_inherits(Payment,_React$Component);var _super=_createSuper(Payment);function Payment(){_classCallCheck(this,Payment);return _super.apply(this,arguments);}_createClass(Payment,[{key:\"componentWillMount\",value:function componentWillMount(){// Publishable Key from Stripe Dashboard\nvar stripe=window.Stripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');var paymentBtn=document.getElementById('stripe-payment-btn');var sessionId;paymentBtn.addEventListener('click',function(){var orderData={currency:'EUR',quantity:1,amount:10,name:'Some product',description:'Product description',image:'https://image-url/',customerEmail:'vshrimali709@gmail.com',clientId:'12345'};// Url to Firebase function\nfetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession/',{method:'POST',// Adding the order data to payload\nbody:JSON.stringify(orderData)}).then(function(response){return response.json();}).then(function(data){// Getting the session id from firebase function\nvar body=JSON.parse(data.body);return sessionId=body.sessionId;}).then(function(sessionId){// Redirecting to payment form page\nstripe.redirectToCheckout({sessionId:sessionId}).then(function(result){//   result.error.message\n});});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"stripe-payment-btn\"},\"Checkout with Stripe\");}}]);return Payment;}(React.Component);export default Payment;","map":{"version":3,"sources":["D:/projects/information/src/Copoments/Pages/Payment.js"],"names":["React","Payment","stripe","window","Stripe","paymentBtn","document","getElementById","sessionId","addEventListener","orderData","currency","quantity","amount","name","description","image","customerEmail","clientId","fetch","method","body","JSON","stringify","then","response","json","data","parse","redirectToCheckout","result","Component"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GACMC,CAAAA,O,uRACiB,CACnB;AACA,GAAMC,CAAAA,MAAM,CAAMC,MAAM,CAACC,MAAP,CAAc,4CAAd,CAAlB,CACA,GAAMC,CAAAA,UAAU,CAAGC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAAnB,CACA,GAAIC,CAAAA,SAAJ,CACAH,UAAU,CAACI,gBAAX,CAA4B,OAA5B,CAAqC,UAAM,CACzC,GAAIC,CAAAA,SAAS,CAAG,CAChBC,QAAQ,CAAE,KADM,CAEhBC,QAAQ,CAAE,CAFM,CAGhBC,MAAM,CAAE,EAHQ,CAIhBC,IAAI,CAAE,cAJU,CAKhBC,WAAW,CAAE,qBALG,CAMhBC,KAAK,CAAE,oBANS,CAOhBC,aAAa,CAAE,wBAPC,CAQhBC,QAAQ,CAAE,OARM,CAAhB,CAUF;AACAC,KAAK,CAAC,8FAAD,CAAiG,CACpGC,MAAM,CAAE,MAD4F,CAEpG;AACAC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeb,SAAf,CAH8F,CAAjG,CAAL,CAIKc,IAJL,CAIU,SAAAC,QAAQ,CAAI,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CANH,EAMKF,IANL,CAMU,SAAAG,IAAI,CAAI,CACd;AACA,GAAIN,CAAAA,IAAI,CAAGC,IAAI,CAACM,KAAL,CAAWD,IAAI,CAACN,IAAhB,CAAX,CACA,MAAOb,CAAAA,SAAS,CAAGa,IAAI,CAACb,SAAxB,CACD,CAVH,EAUKgB,IAVL,CAUU,SAAAhB,SAAS,CAAI,CACnB;AACAN,MAAM,CAAC2B,kBAAP,CAA0B,CACxBrB,SAAS,CAAEA,SADa,CAA1B,EAEGgB,IAFH,CAEQ,SAACM,MAAD,CAAW,CACnB;AACC,CAJD,EAKD,CAjBH,EAkBC,CA9BD,EA+BD,C,uCACQ,CACP,mBAAO,2BAAK,EAAE,CAAC,oBAAR,yBAAP,CACD,C,qBAxCmB9B,KAAK,CAAC+B,S,EA0C5B,cAAe9B,CAAAA,OAAf","sourcesContent":["import React from 'react';\r\nclass Payment extends React.Component {\r\n  componentWillMount() {\r\n    // Publishable Key from Stripe Dashboard\r\n    const stripe =    window.Stripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\r\n    const paymentBtn = document.getElementById('stripe-payment-btn');\r\n    let sessionId;\r\n    paymentBtn.addEventListener('click', () => {\r\n      let orderData = {\r\n      currency: 'EUR',\r\n      quantity: 1,\r\n      amount: 10,\r\n      name: 'Some product',\r\n      description: 'Product description',\r\n      image: 'https://image-url/',\r\n      customerEmail: 'vshrimali709@gmail.com',\r\n      clientId: '12345'\r\n    }\r\n    // Url to Firebase function\r\n    fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession/', {\r\n      method: 'POST',\r\n      // Adding the order data to payload\r\n      body: JSON.stringify(orderData)\r\n      }).then(response => {\r\n        return response.json();\r\n      }).then(data => {\r\n        // Getting the session id from firebase function\r\n        var body = JSON.parse(data.body);\r\n        return sessionId = body.sessionId;\r\n      }).then(sessionId => {\r\n        // Redirecting to payment form page\r\n        stripe.redirectToCheckout({\r\n          sessionId: sessionId\r\n        }).then((result)=> {\r\n        //   result.error.message\r\n        });\r\n      });\r\n    });\r\n  }\r\n  render() {\r\n    return <div id=\"stripe-payment-btn\">Checkout with Stripe</div>\r\n  }\r\n}\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}