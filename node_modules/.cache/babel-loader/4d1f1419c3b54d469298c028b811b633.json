{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\information\\\\src\\\\Copoments\\\\Pages\\\\Payment.js\";\nimport React from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport axios from 'axios';\nconst stripe = loadStripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\n\nclass Payment extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.doPayment = () => {\n      const paymentBtn = document.getElementById('stripe-payment-btn');\n      let sessionId;\n      paymentBtn.addEventListener('click', () => {\n        let orderData = {\n          currency: 'EUR',\n          quantity: 1,\n          amount: 100,\n          name: 'Some product',\n          description: 'Product description',\n          image: 'https://image-url/',\n          customerEmail: 'vshrimali709@gmail.com',\n          clientId: '12345'\n        }; // Url to Firebase function\n\n        window.fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession', {\n          method: 'POST',\n          // Adding the order data to payload\n          body: JSON.stringify(orderData)\n        }).then(response => {\n          return console.log(\"This is \" + response.json());\n        }).then(data => {\n          // Getting the session id from firebase function\n          var body = JSON.parse(data.body);\n          return sessionId = body.sessionId;\n        }).then(sessionId => {\n          // Redirecting to payment form page\n          const {\n            error\n          } = stripe.redirectToCheckout({\n            sessionId: sessionId\n          }).then(result => {\n            console.log(result);\n            console.log(error.message);\n          });\n        });\n      });\n    };\n  }\n\n  // doPayment = async () => {\n  //   fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/charge', {\n  //     method: 'POST',\n  //     headers: {\n  //       Accept: 'application/json',\n  //       'Content-Type': 'application/json',\n  //     },\n  //     body: JSON.stringify({\n  //       amount: 10,\n  //       currency: \"usd\",\n  //     }),\n  //   })\n  //     .then((response) => response.json())\n  //     .then((responseJson) => {\n  //       console.log(responseJson);\n  //     })\n  //     .catch((error) => {\n  //       console.error(error);\n  //     });;\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"stripe-payment-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: this.doPayment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 2\n      }\n    }, \" Click here\"));\n  }\n\n}\n\nexport default Payment;","map":{"version":3,"sources":["D:/projects/information/src/Copoments/Pages/Payment.js"],"names":["React","loadStripe","axios","stripe","Payment","Component","doPayment","paymentBtn","document","getElementById","sessionId","addEventListener","orderData","currency","quantity","amount","name","description","image","customerEmail","clientId","window","fetch","method","body","JSON","stringify","then","response","console","log","json","data","parse","error","redirectToCheckout","result","message","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,MAAM,GAAMF,UAAU,CAAC,4CAAD,CAA5B;;AACA,MAAMG,OAAN,SAAsBJ,KAAK,CAACK,SAA5B,CAAsC;AAAA;AAAA;;AAAA,SACpCC,SADoC,GACzB,MAAM;AAEf,YAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAAnB;AACA,UAAIC,SAAJ;AACAH,MAAAA,UAAU,CAACI,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AACzC,YAAIC,SAAS,GAAG;AAChBC,UAAAA,QAAQ,EAAE,KADM;AAEhBC,UAAAA,QAAQ,EAAE,CAFM;AAGhBC,UAAAA,MAAM,EAAE,GAHQ;AAIhBC,UAAAA,IAAI,EAAE,cAJU;AAKhBC,UAAAA,WAAW,EAAE,qBALG;AAMhBC,UAAAA,KAAK,EAAE,oBANS;AAOhBC,UAAAA,aAAa,EAAE,wBAPC;AAQhBC,UAAAA,QAAQ,EAAE;AARM,SAAhB,CADyC,CAW3C;;AACDC,QAAAA,MAAM,CAACC,KAAP,CAAa,6FAAb,EAA4G;AAC1GC,UAAAA,MAAM,EAAC,MADmG;AAEzG;AACAC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,SAAf;AAHmG,SAA5G,EAIMe,IAJN,CAIWC,QAAQ,IAAI;AAClB,iBAAOC,OAAO,CAACC,GAAR,CAAY,aAAWF,QAAQ,CAACG,IAAT,EAAvB,CAAP;AAED,SAPJ,EAOMJ,IAPN,CAOWK,IAAI,IAAI;AACd;AACA,cAAIR,IAAI,GAAGC,IAAI,CAACQ,KAAL,CAAWD,IAAI,CAACR,IAAhB,CAAX;AACA,iBAAOd,SAAS,GAAGc,IAAI,CAACd,SAAxB;AACD,SAXJ,EAWMiB,IAXN,CAWWjB,SAAS,IAAI;AACnB;AACD,gBAAM;AAACwB,YAAAA;AAAD,cAAQ/B,MAAM,CAACgC,kBAAP,CAA0B;AACrCzB,YAAAA,SAAS,EAAEA;AAD0B,WAA1B,EAEViB,IAFU,CAELS,MAAM,IAAG;AAChBP,YAAAA,OAAO,CAACC,GAAR,CAAYM,MAAZ;AACAP,YAAAA,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACG,OAAlB;AACA,WALY,CAAd;AAMA,SAnBJ;AAoBE,OAhCD;AAmCD,KAxCmC;AAAA;;AAyCtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,MAAM,GAAG;AACP,wBACG;AAAK,MAAA,EAAE,EAAC,oBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACN;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAwB,MAAA,OAAO,EAAE,KAAKhC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADM,CADH;AAKD;;AAnEmC;;AAqEtC,eAAeF,OAAf","sourcesContent":["import React from 'react';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport axios from 'axios';\r\nconst stripe =    loadStripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\r\nclass Payment extends React.Component {\r\n  doPayment =() => {\r\n   \r\n    const paymentBtn = document.getElementById('stripe-payment-btn');\r\n    let sessionId;\r\n    paymentBtn.addEventListener('click', () => {\r\n      let orderData = {\r\n      currency: 'EUR',\r\n      quantity: 1,\r\n      amount: 100,\r\n      name: 'Some product',\r\n      description: 'Product description',\r\n      image: 'https://image-url/',\r\n      customerEmail: 'vshrimali709@gmail.com',\r\n      clientId: '12345'\r\n    }\r\n    // Url to Firebase function\r\n   window.fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession', {\r\n     method:'POST',\r\n      // Adding the order data to payload\r\n      body: JSON.stringify(orderData)\r\n      }).then(response => {\r\n        return console.log(\"This is \"+response.json());\r\n      \r\n      }).then(data => {\r\n        // Getting the session id from firebase function\r\n        var body = JSON.parse(data.body);\r\n        return sessionId = body.sessionId;\r\n      }).then(sessionId => {\r\n        // Redirecting to payment form page\r\n       const {error}=stripe.redirectToCheckout({\r\n          sessionId: sessionId\r\n        }).then(result=> {\r\n         console.log(result)\r\n         console.log(error.message);\r\n        });\r\n      });\r\n    });\r\n    \r\n    \r\n  }\r\n// doPayment = async () => {\r\n//   fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/charge', {\r\n//     method: 'POST',\r\n//     headers: {\r\n//       Accept: 'application/json',\r\n//       'Content-Type': 'application/json',\r\n//     },\r\n//     body: JSON.stringify({\r\n//       amount: 10,\r\n//       currency: \"usd\",\r\n//     }),\r\n//   })\r\n//     .then((response) => response.json())\r\n//     .then((responseJson) => {\r\n//       console.log(responseJson);\r\n//     })\r\n//     .catch((error) => {\r\n//       console.error(error);\r\n//     });;\r\n// }\r\n  render() {\r\n    return(\r\n       <div id=\"stripe-payment-btn\">\r\n <button className=\"btn\" onClick={this.doPayment}> Click here</button>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}