{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\information\\\\src\\\\Copoments\\\\Pages\\\\Payment.js\";\nimport React, { fetch } from 'react';\n\nclass Payment extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.doPayment = () => {\n      // Publishable Key from Stripe Dashboard\n      const stripe = window.Stripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\n      const paymentBtn = document.getElementById('stripe-payment-btn');\n      let sessionId;\n      paymentBtn.addEventListener('click', () => {\n        let orderData = {\n          currency: 'EUR',\n          quantity: 1,\n          amount: 10,\n          name: 'Some product',\n          description: 'Product description',\n          image: 'https://image-url/',\n          customerEmail: 'vshrimali709@gmail.com',\n          clientId: '12345'\n        }; // Url to Firebase function\n\n        fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession/', {\n          method: 'POST',\n          // Adding the order data to payload\n          body: JSON.stringify(orderData)\n        }).then(response => {\n          return response.json();\n        }).then(data => {\n          // Getting the session id from firebase function\n          var body = JSON.parse(data.body);\n          return sessionId = body.sessionId;\n        }).then(sessionId => {\n          // Redirecting to payment form page\n          stripe.redirectToCheckout({\n            sessionId: sessionId\n          }).then(result => {\n            console.log(result);\n          });\n        });\n      });\n    };\n  }\n\n  // doPayment = async () => {\n  //   fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/payWithStripe', {\n  //     method: 'POST',\n  //     headers: {\n  //       Accept: 'application/json',\n  //       'Content-Type': 'application/json',\n  //     },\n  //     body: JSON.stringify({\n  //       amount: 10,\n  //       currency: \"usd\",\n  //     }),\n  //   })\n  //     .then((response) => response.json())\n  //     .then((responseJson) => {\n  //       console.log(responseJson);\n  //     })\n  //     .catch((error) => {\n  //       console.error(error);\n  //     });;\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"stripe-payment-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: this.doPayment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 2\n      }\n    }, \" Click here\"));\n  }\n\n}\n\nexport default Payment;","map":{"version":3,"sources":["D:/projects/information/src/Copoments/Pages/Payment.js"],"names":["React","fetch","Payment","Component","doPayment","stripe","window","Stripe","paymentBtn","document","getElementById","sessionId","addEventListener","orderData","currency","quantity","amount","name","description","image","customerEmail","clientId","method","body","JSON","stringify","then","response","json","data","parse","redirectToCheckout","result","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,KAAd,QAA0B,OAA1B;;AACA,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAsC;AAAA;AAAA;;AAAA,SACpCC,SADoC,GACzB,MAAM;AACf;AACA,YAAMC,MAAM,GAAMC,MAAM,CAACC,MAAP,CAAc,4CAAd,CAAlB;AACA,YAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAAnB;AACA,UAAIC,SAAJ;AACAH,MAAAA,UAAU,CAACI,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AACzC,YAAIC,SAAS,GAAG;AAChBC,UAAAA,QAAQ,EAAE,KADM;AAEhBC,UAAAA,QAAQ,EAAE,CAFM;AAGhBC,UAAAA,MAAM,EAAE,EAHQ;AAIhBC,UAAAA,IAAI,EAAE,cAJU;AAKhBC,UAAAA,WAAW,EAAE,qBALG;AAMhBC,UAAAA,KAAK,EAAE,oBANS;AAOhBC,UAAAA,aAAa,EAAE,wBAPC;AAQhBC,UAAAA,QAAQ,EAAE;AARM,SAAhB,CADyC,CAW3C;;AACApB,QAAAA,KAAK,CAAC,8FAAD,EAAiG;AACpGqB,UAAAA,MAAM,EAAE,MAD4F;AAEpG;AACAC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,SAAf;AAH8F,SAAjG,CAAL,CAIKa,IAJL,CAIUC,QAAQ,IAAI;AAClB,iBAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,SANH,EAMKF,IANL,CAMUG,IAAI,IAAI;AACd;AACA,cAAIN,IAAI,GAAGC,IAAI,CAACM,KAAL,CAAWD,IAAI,CAACN,IAAhB,CAAX;AACA,iBAAOZ,SAAS,GAAGY,IAAI,CAACZ,SAAxB;AACD,SAVH,EAUKe,IAVL,CAUUf,SAAS,IAAI;AACnB;AACAN,UAAAA,MAAM,CAAC0B,kBAAP,CAA0B;AACxBpB,YAAAA,SAAS,EAAEA;AADa,WAA1B,EAEGe,IAFH,CAEQM,MAAM,IAAG;AAChBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,WAJD;AAKD,SAjBH;AAkBC,OA9BD;AA+BD,KArCmC;AAAA;;AAsCtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEG,EAAAA,MAAM,GAAG;AACP,wBACG;AAAK,MAAA,EAAE,EAAC,oBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACN;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAwB,MAAA,OAAO,EAAE,KAAK/B,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADM,CADH;AAKD;;AAhEmC;;AAkEtC,eAAeF,OAAf","sourcesContent":["import React,{fetch} from 'react';\r\nclass Payment extends React.Component {\r\n  doPayment =() => {\r\n    // Publishable Key from Stripe Dashboard\r\n    const stripe =    window.Stripe('pk_test_izTRazS0reCuAYbvSfCVkfAQ004KviIEJL');\r\n    const paymentBtn = document.getElementById('stripe-payment-btn');\r\n    let sessionId;\r\n    paymentBtn.addEventListener('click', () => {\r\n      let orderData = {\r\n      currency: 'EUR',\r\n      quantity: 1,\r\n      amount: 10,\r\n      name: 'Some product',\r\n      description: 'Product description',\r\n      image: 'https://image-url/',\r\n      customerEmail: 'vshrimali709@gmail.com',\r\n      clientId: '12345'\r\n    }\r\n    // Url to Firebase function\r\n    fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/createOrderAndSession/', {\r\n      method: 'POST',\r\n      // Adding the order data to payload\r\n      body: JSON.stringify(orderData)\r\n      }).then(response => {\r\n        return response.json();\r\n      }).then(data => {\r\n        // Getting the session id from firebase function\r\n        var body = JSON.parse(data.body);\r\n        return sessionId = body.sessionId;\r\n      }).then(sessionId => {\r\n        // Redirecting to payment form page\r\n        stripe.redirectToCheckout({\r\n          sessionId: sessionId\r\n        }).then(result=> {\r\n         console.log(result)\r\n        });\r\n      });\r\n    });\r\n  }\r\n// doPayment = async () => {\r\n//   fetch('https://us-central1-information-management-s-c7f1c.cloudfunctions.net/payWithStripe', {\r\n//     method: 'POST',\r\n//     headers: {\r\n//       Accept: 'application/json',\r\n//       'Content-Type': 'application/json',\r\n//     },\r\n//     body: JSON.stringify({\r\n//       amount: 10,\r\n//       currency: \"usd\",\r\n//     }),\r\n//   })\r\n//     .then((response) => response.json())\r\n//     .then((responseJson) => {\r\n//       console.log(responseJson);\r\n//     })\r\n//     .catch((error) => {\r\n//       console.error(error);\r\n//     });;\r\n// }\r\n  render() {\r\n    return(\r\n       <div id=\"stripe-payment-btn\">\r\n <button className=\"btn\" onClick={this.doPayment}> Click here</button>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}